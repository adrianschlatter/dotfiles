-- Only required if you have packer configured as `opt`
vim.cmd [[packadd packer.nvim]]

return require('packer').startup(function(use)
	-- Packer can manage itself
	use 'wbthomason/packer.nvim'
	use {   -- fuzzy finder
		'nvim-telescope/telescope.nvim', tag = '0.1.3',
		requires = { 'nvim-lua/plenary.nvim' }
	}
	use {
		"catppuccin/nvim",    -- color scheme
		as = "catppuccin"
	}
	use {   -- parser for better highlighting
		'nvim-treesitter/nvim-treesitter',
		run = ':TSUpdate'
	}
	-- displays AST generated by treesitter
	use { 'nvim-treesitter/playground' }
	use { 'nvim-lua/plenary.nvim' }    -- required by harpoon below and telescope above
	use {   -- quick access for selected files
        'theprimeagen/harpoon',
        requires = { 'nvim-lua/plenary.nvim' }
    }
	-- visualizes undo history (including branches):
	use { 'mbbill/undotree' }
	use { 'tpope/vim-fugitive' }    -- git integration
    -- support for language servers (and completion):
    use {'williamboman/mason.nvim'}
    use {'williamboman/mason-lspconfig.nvim'}
    use {'neovim/nvim-lspconfig'}    -- LSP support
    use {'hrsh7th/nvim-cmp'}    -- completion engine
    use {'hrsh7th/cmp-nvim-lsp'}    -- LSP source for nvim-cmp
    use {'hrsh7th/cmp-buffer'}    -- buffer source for nvim-cmp
    use {'hrsh7th/cmp-path'}    -- path source for nvim-cmp
    use {'L3MON4D3/LuaSnip'}    -- snippet engine
    -- commenting / uncommenting easily:
    -- gcc comments out a line, gc comments out the target of a motion
    use { 'tpope/vim-commentary' }
	-- debugging:
	use { 'mfussenegger/nvim-dap' }
	use {
		'mfussenegger/nvim-dap-python',
		requires = {'mfussenegger/nvim-dap'}
	}
	use {
		'rcarriga/nvim-dap-ui',
		requires = {
            {'mfussenegger/nvim-dap'},
            {'nvim-neotest/nvim-nio'},
        }
	}
    -- test runner:
    use { 'vim-test/vim-test' }
    -- GitHub Copilot:
    use { 'github/copilot.vim' }
    use {
          'nvim-lualine/lualine.nvim',
          requires = { 'nvim-tree/nvim-web-devicons', opt = true }
    }
    -- to show coverage information in gutter:
    use {
        'andythigpen/nvim-coverage',
        requires = { 'nvim-lua/plenary.nvim' }
    }
    -- iron.nvim repl:
    use {'Vigemus/iron.nvim'}
    -- sql support:
    use {'tpope/vim-dadbod'}
    use {'kristijanhusak/vim-dadbod-ui'}
    use {'kristijanhusak/vim-dadbod-completion'}
    -- oil.nvim file browser:
    use {
        'stevearc/oil.nvim',
        config = function()
            require('oil').setup({
                default_file_explorer = true,
            })
        end,
    }
    -- which-key and its dependencies:
    use { 'nvim-tree/nvim-web-devicons' }
    use { 'echasnovski/mini.nvim' }
    use { 'folke/which-key.nvim' }
end)
